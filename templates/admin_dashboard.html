<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard â€“ Land Registry Portal</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style2A.css') }}">
  <style>
    /* Container for admin form and land inspectors table */
    .dashboard-content {
      display: flex;
      gap: 40px;
      padding: 20px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(121, 121, 121, 0.12);
      margin-top: 30px;
    }

    /* Admin Inspector Creation Form */
    .admin-form {
      flex: 1;
      max-width: 400px;
      padding: 24px;
      border: 1.8px solid gray;
      border-radius: 12px;
      background-color: #eaeaea;
    }

    .admin-form h2 {
      font-weight: 900;
      color: rgb(48, 47, 47);
      margin-bottom: 24px;
      font-size: 1.6rem;
    }

    /* Inputs styling in admin form */
    .admin-form input[type="text"],
    .admin-form input[type="email"],
    .admin-form input[type="password"] {
      width: 90%;
      padding: 12px 14px;
      margin-bottom: 18px;
      border: 1.5px solid #757575;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }

    .admin-form input[type="text"]:focus,
    .admin-form input[type="email"]:focus,
    .admin-form input[type="password"]:focus {
      border-color: gray;
      outline: none;
    }

    /* Submit button */
    .admin-form button.btn-verify {
      width: 100%;
      background-color: rgb(86, 85, 85);
      color: white;
      padding: 12px 0;
      border-radius: 10px;
      font-weight: 700;
      font-size: 1rem;
      border: none;
      cursor: pointer;
      transition: background 0.25s ease;
    }

    .admin-form button.btn-verify:hover {
      background-color: gray;
    }

    /* Land Inspectors Table Container */
    .land-inspectors {
      flex: 2;
      overflow-x: auto;
      padding: 16px;
      border: 1.8px solid #757575);
      border-radius: 12px;
      background-color: #f9fbff;
    }

    /* Section heading */
    .land-inspectors h3 {
      font-weight: 900;
      color: black;
      margin-bottom: 20px;
      font-size: 1.5rem;
    }

    /* Table styling */
    .land-inspectors table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
      color: black;
    }

    .land-inspectors th,
    .land-inspectors td {
      padding: 14px 22px;
      border-bottom: 1px solid #bebebe;
      text-align: left;
    }

    .land-inspectors th {
      background-color: #e2e1e1;
      font-weight: 700;
      color: #101010;
    }

    .land-inspectors tr:hover {
      background-color: #ddddde;
      cursor: pointer;
    }

    /* Navbar styling */
    .navbar {
      background: #fff;
      box-shadow: 0 3px 12px rgba(0,0,0,0.08);
      padding: 12px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .navbar .admin-name {
      font-weight: 700;
      color: #161616;
      margin-left: 5px;
    }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 25px;
      margin: 0;
      padding: 0;
    }

    .nav-links a {
      text-decoration: none;
      color: #111111;
      font-weight: 600;
      transition: color 0.3s;
    }

    .nav-links a:hover {
      color: #0f0f0f;
    }
     .btn-reject {
      background-color: #e01b1b;
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.2s, transform 0.12s;
    }

    .btn-reject:hover { transform: translateY(-1px); }

    .nav-auth2 a {
      background: #e63946;
      color: white;
      padding: 8px 15px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: background 0.3s;
    }

    .nav-auth2 a:hover {
      background: #b91c1c;
    }

    /* Responsive adjustments */
    @media (max-width: 900px) {
      .dashboard-content {
        flex-direction: column;
      }

      .admin-form,
      .land-inspectors {
        max-width: 100%;
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <nav class="navbar">
    <div class="inspector-profile">
      <span class="profile-icon1">ðŸ‘¤</span>
      <span class="admin-name">{{ admin_name }}</span>
    </div>
    <ul class="nav-links">
      <li class="menu-item active">Manage Inspectors</li>
      <li class="menu-item"><a href="{{ url_for('admin_contact_messages') }}">Contact Messages</a></li>
      <!-- âœ… Logout will now redirect to homepage -->
      <li class="nav-auth2"><a href="{{ url_for('admin_logout') }}">Logout</a></li>
    </ul>
  </nav>

  <div class="dashboard-content">
    <main class="admin-form">
      <h2>Admin Dashboard</h2>
      <form method="POST" action="{{ url_for('admin_create_inspector') }}" class="dashboard-form">
        <input type="text" name="username" placeholder="Inspector Username" required>
        <input type="text" name="name" placeholder="Full Name" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="text" name="phone" placeholder="Phone Number" required>
        <input type="password" name="password" placeholder="Password" required>
        <button type="submit" class="btn-verify">Create Inspector</button>
      </form>
    </main>

    <section class="land-inspectors">
      <h3>Land Inspectors</h3>
      <table class="land-inspectors">
        <thead>
          <tr>
            <th>#</th>
            <th>Username</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for ins in inspectors %}
          <tr>
            <td>{{ ins.id }}</td>
            <td>{{ ins.username }}</td>
            <td>{{ ins.name }}</td>
            <td>{{ ins.email }}</td>
            <td>{{ ins.phone }}</td>
            <td>
              <form method="POST" action="{{ url_for('admin_delete_inspector', id=ins.id) }}" onsubmit="return confirm('Are you sure you want to delete this inspector?');">
                <button class="btn-reject" style="background:#bf0a30;" type="submit">Delete</button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <ul>
            {% for msg in messages %}
              <li>{{ msg }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}
    </section>
  </div>
</body>
</html>
