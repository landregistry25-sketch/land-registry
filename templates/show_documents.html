<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <title>User Land Documents</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:700,400" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', Arial, sans-serif; background: #f6f9fc; }
        .container { width: 600px; margin: auto; background: #fff; border-radius: 14px; box-shadow: 0 2px 24px #ddd; margin-top: 50px; padding: 38px 38px 30px 38px; }
        h2 { margin-bottom: 26px; }
        .cards { display: flex; flex-wrap: wrap; gap: 22px; }
        .card {
            flex: 1 1 180px;
            min-width: 180px;
            background: #fafbfc;
            border: 2px solid #eee;
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 8px;
            box-shadow: 0 2px 8px #e6eaed;
            text-align: left;
            position: relative;
        }
        .card-title { font-weight: 700; color: #34489d; font-size: 16px; margin-bottom: 6px; }
        .card-actions { margin-top: 9px;}
        .no-upload { color: #c02c2c; font-size: 14px; }
        .view-btn {
            background: #34489d;
            color: #fff;
            border: none;
            padding: 6px 15px;
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            margin-top: 4px;
        }
        .back-btn {
            background: #34489d;
            color: #fff;
            border: none;
            padding: 8px 24px;
            border-radius: 8px;
            margin-bottom: 16px;
            cursor: pointer;
            font-size: 16px;
        }
        #modal-bg {
            position: fixed;
            top:0; left:0; right:0; bottom:0;
            background: rgba(30,40,60,0.28);
            z-index: 900;
            display:none;
        }
        #modal {
            background: #fff;
            border-radius: 14px;
            box-shadow: 0 8px 32px #abb8b9;
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%,-50%);
            z-index: 999;
            min-width: 340px;
            max-width: 75vw;
            padding: 32px 14px;
            display: none;
        }
        #modal-close {
            background: #34489d;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 6px 14px;
            cursor: pointer;
        }
        .modal-content { margin-top: 18px; font-size: 17px; }
        .modal-img { max-width: 420px; max-height: 400px;}
        .modal-doc { font-size: 15px;}
    </style>
</head>
<body>
    <button class="back-btn" onclick="window.location.href='/dashboard';">&larr; Back</button>
    <div class="container">
    <h2>User {{ ownername }} Land ID {{ land_id }}</h2>
    <div class="cards">
        {% for doc in [
            {'title': 'Encumbrance Certificate', 'filename': encumbrance_certificate},
            {'title': 'Sale Deed', 'filename': sales_deed},
            {'title': 'Aadhar Card', 'filename': aadhar_card},
            {'title': 'Property Tax Receipt', 'filename': property_tax_receipts},
            {'title': 'Land Map', 'filename': land_map}
        ] %}
        <div class="card">
            <div class="card-title">{{ doc.title }}</div>
            <div class="card-actions">
                {% if doc.filename %}
                    <a href="{{ url_for('uploaded_file', filename=doc.filename) }}" target="_blank" class="view-btn">View {{ doc.title }}</a>
                {% else %}
                    <span class="no-upload">Not Uploaded</span>
                {% endif %}
            </div>
        </div>
        {% endfor %}
        <div class="card">
            <div class="card-title">Land Photos</div>
            <div class="card-actions">
                {% if landphotos and landphotos[0] %}
                    {% for photo in landphotos %}
                        <a href="{{ url_for('uploaded_file', filename=photo) }}" target="_blank" class="view-btn">View Photo {{ loop.index }}</a><br>
                    {% endfor %}
                {% else %}
                    <span class="no-upload">Not Uploaded</span>
                {% endif %}
            </div>
        </div>
    </div>
</div>

    <div id="modal-bg"></div>
    <div id="modal">
        <span id="modal-title" style="font-weight:700; font-size:18px;"></span>
        <div class="modal-content" id="modal-content"></div>
        <br>
        <button id="modal-close" onclick="closeModal()">Close</button>
    </div>
    <script>
        function showModal(title, fileurl, filename) {
            document.getElementById('modal-bg').style.display = 'block';
            document.getElementById('modal').style.display = 'block';
            document.getElementById('modal-title').innerText = title;

            // Detect image types for preview
            let ext = filename.split('.').pop().toLowerCase();
            let content;
            if(['jpg','jpeg','png','gif','bmp','webp'].includes(ext)) {
                content = `<img src="${fileurl}" class="modal-img" alt="${title}">`;
            } else {
                content = `<a href="${fileurl}" class="modal-doc" target="_blank">Open document</a><br><span class="modal-doc">Cannot preview in this window. Download to view full details.</span>`;
            }
            document.getElementById('modal-content').innerHTML = content;
        }
        function closeModal(){
            document.getElementById('modal-bg').style.display = 'none';
            document.getElementById('modal').style.display = 'none';
        }
    </script>
</body>
</html> -->
<!DOCTYPE html>
<html>
<head>
  <title>Land Documents</title>
</head>
<body>
  <h1>Documents for Land ID: {{ land_id }}</h1>
  <p>Owner Name: {{ ownername }}</p>

  <div>
    <h3>Documents</h3>
    <ul>
      {% if aadhar_card %}
        <li><a href="{{ url_for('uploaded_file', filename=aadhar_card) }}" target="_blank">Aadhar Card</a></li>
      {% endif %}
      {% if land_map %}
        <li><a href="{{ url_for('uploaded_file', filename=land_map) }}" target="_blank">Land Map</a></li>
      {% endif %}
      {% if sales_deed %}
        <li><a href="{{ url_for('uploaded_file', filename=sales_deed) }}" target="_blank">Sale Deed</a></li>
      {% endif %}
      {% if property_tax_receipts %}
        <li><a href="{{ url_for('uploaded_file', filename=property_tax_receipts) }}" target="_blank">Property Tax Receipts</a></li>
      {% endif %}
      {% if encumbrance_certificate %}
        <li><a href="{{ url_for('uploaded_file', filename=encumbrance_certificate) }}" target="_blank">Encumbrance Certificate</a></li>
      {% endif %}
    </ul>
  </div>

  <div>
    <h3>Land Photos</h3>
    {% if landphotos %}
      {% for photo in landphotos %}
        <img src="{{ url_for('uploaded_file', filename=photo) }}" alt="Land photo {{ loop.index }}" height="150px">
      {% endfor %}
    {% else %}
      <p>No photos uploaded.</p>
    {% endif %}
  </div>
</body>
</html>
