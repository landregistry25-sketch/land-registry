<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Account Profile</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style2.css') }}">
  <style>
  

.profile-container {
  width: 500px;	
  margin: 50px auto;
  padding: 32px 40px;
  background: #faf9f6;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
}

.profile-pic-area {
  position: relative;
  margin-bottom: 22px;
}

.profile-avatar {
  width: 130px;
  height: 130px;
  border-radius: 8px;
  border: 2px solid #2c3e50;
  object-fit: cover;
  background-color: #eaeef2;
  box-shadow: 0 1px 3px rgb(44 62 80 / 0.15);
  cursor: pointer;
}

.upload-btn {
  position: absolute;
  top: 111px;
  left: 140px;
  background: #194d33;
  color: white;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 20px;
  border: 1.5px solid #fff;
  box-shadow: 0 0 5px rgba(0,0,0,0.15);
}

.profile-info {
  width: 100%;
}

.profile-info label {
  font-weight: 600;
  margin-top: 18px;
  color: #34495e;
  display: block;
  font-size: 0.95rem;
  letter-spacing: 0.025em;
}

.profile-info input {
  width: 95%;
  margin-top: 6px;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid #b0bec5;
  font-size: 1rem;
  color: #2c3e50;
  transition: border-color 0.2s ease;
}

.profile-info input:focus {
  border-color: #194d33;
  outline: none;
  box-shadow: 0 0 5px rgba(25,77,51,0.3);
}

.save-btn {
  margin-top: 28px;
  width: 100%;
  background-color: #194d33;
  border: none;
  color: white;
  font-weight: 700;
  font-size: 1.1rem;
  padding: 14px 0;
  border-radius: 6px;
  cursor: pointer;
  letter-spacing: 0.05em;
  box-shadow: 0 2px 6px rgba(25,77,51,0.4);
  transition: background-color 0.3s ease;
}

.save-btn:hover {
  background-color: #1b5e45;
}


.delete-btn {
  margin-top: 12px;
  width: 100%;
  background-color: #FFD700 ;
  border: none; 
  color: white;
  font-weight: 700;
  font-size: 1.1rem;
  padding: 14px 0;
  border-radius: 6px;
  cursor: pointer;
  letter-spacing: 0.05em;
  box-shadow: 0 2px 6px rgba(183,28,28,0.6);
  text-align: center;
  text-decoration: none;
  display: block;
  transition: background-color 0.3s ease;
}

.logout-btn:hover {
  background-color: #7f1212;
}

/* Modal Styling */
.modal {
  display: none;
  position: fixed;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(11, 22, 33, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(5px);
}

.modal-content {
  max-width: 400px;
  max-height: 400px;
  border-radius: 8px;
  object-fit: cover;
  box-shadow: 0 4px 25px rgba(0, 0, 0, 0.3);
}

.close {
  position: absolute;
  top: 20px;
  right: 35px;
  color: #fff;
  font-size: 36px;
  font-weight: bold;
  cursor: pointer;
  user-select: none;
}
h1{
  text-align:center;
  height:10px;
  color:#2c3e50
}
</style>
</head>
<body>
  <nav class="navbar">
    <div class="logo"><span style="color:#222;font-weight:bold;">Land</span><span style="color:#387AFF;font-weight:bold;">Registry</span></div>
    <ul class="nav-links">
      <li><a href="{{ url_for('home') }}">Home</a></li>
      <li><a href="{{ url_for('about') }}">About Us</a></li>
      <li><a href="{{ url_for('features') }}">Features</a></li>
      <li><a href="{{ url_for('faqs') }}">FAQs</a></li>
      <li><a href="{{ url_for('contact') }}">Contact</a></li>
      {% if session.get('username') %}
      <li class="nav-auth"><a href="{{ url_for('account_details') }}">Account</a></li>
      <li class="nav-auth2"><a href="{{ url_for('logout') }}">Logout</a></li>
      {% else %}
      <li class="nav-auth"><a href="{{ url_for('login') }}">Login</a></li>
      <li class="nav-auth"><a href="{{ url_for('signin') }}">Sign Up</a></li>
      {% endif %}
    </ul>
  </nav>

  <h1>Account Profile</h1>

 <div class="profile-container">
  <form action="{{ url_for('edit_profile') }}" method="POST" enctype="multipart/form-data">
    <div class="profile-pic-area">
      {% if user.profile_photo %}
        <img src="{{ url_for('static', filename='uploads/' + user.profile_photo) }}" id="profileImg" class="profile-avatar" style="cursor:pointer;">
      {% else %}
        <img src="{{ url_for('static', filename='default-avatar.png') }}" id="profileImg" class="profile-avatar" style="cursor:pointer;">
      {% endif %}
      <label for="profile_photo" class="upload-btn">
        <span>+</span>
        <input type="file" id="profile_photo" name="profile_photo" style="display:none;">
      </label>
    </div>
    <div class="profile-info">
      <label>Full Name:</label>
      <input type="text" name="fullname" value="{{ user.fullname }}">
      <label>Username:</label>
      <input type="text" name="username" value="{{ user.username }}" readonly>
      <label>Phone No.:</label>
      <input type="text" name="phone" value="{{ user.phone }}">
      <label>Email:</label>
      <input type="email" name="email" value="{{ user.email }}">
    </div>
    <button type="submit" class="save-btn">Save Changes</button>
    <a href="{{ url_for('delete_account') }}" class="delete-btn" id="deleteAccountBtn" style="background-color: #b71c1c; margin-top: 12px;"> Delete Account</a>
  </form>
</div>

<!-- Modal for Enlarged Image -->
<div id="photoModal" class="modal" style="display:none;">
  <span class="close">&times;</span>
  <img class="modal-content" id="imgInModal">
</div>
<script>
// Modal image viewer logic
const modal = document.getElementById("photoModal");
const img = document.getElementById("profileImg");
const modalImg = document.getElementById("imgInModal");
const closeBtn = document.getElementsByClassName("close")[0];

img.onclick = function() {
  modal.style.display = "flex";
  modalImg.src = this.src;
}
closeBtn.onclick = function() {
  modal.style.display = "none";
}
modal.onclick = function(e) {
  if (e.target === modal) modal.style.display = "none";
}
</script>

</body>
</html>
